# Картографирование в JOSM 
В данной инструкции рассматривается краткий алгоритм действий для картографирования объектов местности в редакторе JOSM.

## I. Подготовка к работе
1. Редактор JOSM распространяется в различных форматах. Дистрибутивы можно скачать на [официальном сайте редактора](https://josm.openstreetmap.de/):
   - `josm-tested.jar`:
      - При запуске этого файла есть вероятность возникновения ошибки `A Java Exception has occurred` — в таком случае рекомендуется установить ПО другими методами;
   - `josm-installer.msi`;
   - `josm-installer.exe` и др.;
  
2. После установки редактора рекомендуется установить необходимый набор плагинов. Одним из наиболее востребованных плагинов является `buildings_tools`. Рассмотрим весьма интуитивный процесс его установки:

   2.1. Из стартового меню необходимо перейти в `Presets / Presets Preferences` (на верхней панели). На этом этапе может что-то подгрузиться — это норм, ждём);
   
   2.2. Далее необходимо перейти в раздел `Plugins`. Посредством поиска можно найти искомый плагин — в данном случае `buildings_tools`. Затем следует непосредственно установка плагина. После установки активное окно можно закрыть;
   
4. Загрузка дополнительных слоёв:

   3.1. Для добавления пространственных данных в среду картографирования можно воспользоваться шорткатом `Ctrl + O`. После загрузки данных ;
   
   3.2. Для добавления тайловых подложек можно воспользоваться разделом `Imagery`;
   
   3.3. Для добавления актуальной векторной основы OSM необходимо воспользоваться инструментом `Download map data from a server of your choice` / `Ctrl + Shift + Down` / зелёная ⬇️. Для ограничения области скачивания возможно ручное регулирование охвата. Далее следует нажать `Download`

## II. Оцифровка объектов
В данном разделе рассмотрим полезные инструменты, которые могут пригодиться при оцифровке: 
   - Передвижение по карте осуществляется нажатием `ПКМ`;
   - Для того, чтобы отрисовать пустой объект (без автоматически заполненных тэгов), необходимо воспользоваться инструментом `Draw nodes` (на панели слева или `A`). Полигон образуется замыканием;
   - Для того, чтобы сделать все углы в объекте прямыми (по аналогии с инструментом в iD), необходимо выделить объект и нажать `Q`;
   - Для того, чтобы отредактировать любой объект, необходимо воспользоваться инструментом `Select, move, scale and rotate objects` (на панели слева или `S`);

### Использование плагины
Для ускоренного заполенения тэгов в редакторе JOSM реализованы плагины, позволяющие автоматически задавать цифруемому объекту определённые тэги.
   - Для быстрой оцифроки зданий можно воспользоваться инструментом `buildings_tools` (на панели слева или `B`). Инструмент работает как оцифрока прямоугольного полигона. В результате применения данного инструмента объекту присваивается `buildings=yes`;

## III. Тэгирование
Тэгирование объектов осуществляется для выделенных объектов двумя способами:
1. С использованием пресетов:
   - Вкладка `Presets` (на панели сверху) содержится набор различных вложенных пресетов, каждый из которых представляет собой тот или иной набор тэгов. Например, если нужно отметить воркшоп обивщика стульев, выбираем `Presets / Craft / Upholsterer`;
     
3. Проставление / редактирование тэгов вручную:
   - В меню справа присутствует окно `Tags` (иконка с биркой), в котором есть кнопка `Add`, отвечающая за добавление тэгов;
   - Редактирование осуществляется интуитивно;

## IV. Сохранение и отправка данных
По окончании редактирования можно сохранить оцифрованные данные, а затем выгрузить их в OSM:
1. Сохранение данных оцифровки локально:
   - Данные можно сохранить в формате `OSM` посредством нажатия `Ctrl + S`;
     
2. Выгрузка данных:
   - Для отправки данных необходимо нажать на  зелёную ⬆️. Обратите внимание на то, что данный инструмент выгружает *активный слой* (слой можно назначить активным в меню `Layers`);
   - Настоятельно рекомендуется добавлять комментарий к отправляемому набору данных.
   - Также следует указать источник данных, использованный при картографировании (например, подложку *Bing Imagery*);
   - Финальный этап — авторизация в системе аккаунтов OSM (скорее всего произойдёт переадресация на официальный сайт OSM)
